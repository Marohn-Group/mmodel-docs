
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Overview &#8212; MModel 0.4.0 documentation</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" href="_static/styles/sphinx-book-theme.css?digest=5115cc725059bd94278eecd172e13a965bf8f5a9" type="text/css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Changelog" href="changelog.html" />
    <link rel="prev" title="MModel" href="index.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="index.html">
      
      
      
      <h1 class="site-logo" id="site-title">MModel 0.4.0 documentation</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="current nav bd-sidenav">
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Overview
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="changelog.html">
   Changelog
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Tutorial
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="tutorial_graph.html">
   Creating a model graph
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="tutorial_model.html">
   Building a model
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="tutorial_modifier.html">
   Modifying model and node
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="tutorial_subgraph.html">
   Modifying a subgraph
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  API Guideline
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="api_handler.html">
   Handler API
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="api_modifier.html">
   Modifier API
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Reference
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="ref_graph.html">
   Graph
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="ref_model.html">
   Model
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="ref_handler.html">
   Handler
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="ref_modifier.html">
   Modifier
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="ref_filter.html">
   Filter
  </a>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Theme by the <a href="https://ebp.jupyterbook.org">Executable Book Project</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="_sources/overview.rst.txt"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.rst</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#motivation">
   Motivation
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#how-does-it-work">
   How does it work?
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#philosophy">
   Philosophy
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#separation-of-graph-model-and-model-execution">
     separation of graph model and model execution
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#lightweight">
     lightweight
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#prioritize-execution-performance">
     prioritize execution performance
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#explicit">
     explicit
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#references">
   References
  </a>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Overview</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#motivation">
   Motivation
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#how-does-it-work">
   How does it work?
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#philosophy">
   Philosophy
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#separation-of-graph-model-and-model-execution">
     separation of graph model and model execution
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#lightweight">
     lightweight
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#prioritize-execution-performance">
     prioritize execution performance
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#explicit">
     explicit
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#references">
   References
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <section id="overview">
<h1>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">#</a></h1>
<section id="motivation">
<h2>Motivation<a class="headerlink" href="#motivation" title="Permalink to this headline">#</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">mmodel</span></code> package is developed as a backend for our simulation package
<code class="docutils literal notranslate"><span class="pre">mrfmsim</span></code> (publishing soon) to tackle some frustrations of the scientific
coding process <a class="footnote-reference brackets" href="#id3" id="id1">1</a>, <a class="footnote-reference brackets" href="#id4" id="id2">2</a>. Often, public or in-house scientific packages do
not address the varying programming levels among graduate students in a
scientific research group. Due to the nature of graduate students wanting to
focus on the effort of the result, the code written is often lacked quality
and not well tested (unit test or code review). The code review requires a
review of the simulation’s scientific model and the code written. Both are
difficult to do, especially for experiments with complex components. For our
complex systems, we often have shared parts, yet they follow nonsequential
execution steps. Because of its complexity, students often simulate experiments
without knowing the underlying experimental model or structure.</p>
<p><code class="docutils literal notranslate"><span class="pre">mmodel</span></code> attempts to help with some of the issues outlined above. <code class="docutils literal notranslate"><span class="pre">mmodel</span></code>
focuses on building a modular framework, easy to test individual components,
and providing visualization for the complex models. Furthermore, the modular
systems also help with code distribution, as well as introduce different
levels of entrances for the package:</p>
<blockquote>
<div><table class="table">
<colgroup>
<col style="width: 55%" />
<col style="width: 45%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>action</p></th>
<th class="head"><p>programing level</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>run model</p></td>
<td><p>beginner</p></td>
</tr>
<tr class="row-odd"><td><p>inspect model</p></td>
<td><p>beginner</p></td>
</tr>
<tr class="row-even"><td><p>create new model</p></td>
<td><p>beginner</p></td>
</tr>
<tr class="row-odd"><td><p>modify model</p></td>
<td><p>intermediate</p></td>
</tr>
<tr class="row-even"><td><p>create components</p></td>
<td><p>intermediate</p></td>
</tr>
<tr class="row-odd"><td><p>new execution method</p></td>
<td><p>advanced</p></td>
</tr>
<tr class="row-even"><td><p>code maintenance</p></td>
<td><p>advanced</p></td>
</tr>
</tbody>
</table>
</div></blockquote>
</section>
<section id="how-does-it-work">
<h2>How does it work?<a class="headerlink" href="#how-does-it-work" title="Permalink to this headline">#</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">mmodel</span></code> uses a two stage system to construct a executable python callable
that behaves like a python function - <strong>graph and model</strong>.</p>
<p>The <strong>graph</strong> is a directed acyclic graph (DAG) to represent a non-linear
procedure, with nodes presenting individual functions and edges representing
parameter flow. The graph is created with a custom <code class="docutils literal notranslate"><span class="pre">networkx</span></code> graph class
while retaining all of its graph algorithms and methods. The class <code class="docutils literal notranslate"><span class="pre">ModelGraph</span></code>
handles the graph construction.</p>
<p>The <strong>model</strong> can be created given the graph, the graph handler, and the modifiers.
The model is an python executable object that behaves like a python function.
Specifically, the handler creates the workflow that executes each node, and modifiers
are python wrapper (closure/decorators) that can modify the nodes and the graph.
The class <code class="docutils literal notranslate"><span class="pre">Model</span></code> handlers the model construction. Constructing a model using a
directed graph allows for clear execution steps, error messages, and easy testing.
Notably, we can modify the subgraph easily without changing the model,
which is efficient in terms of performance and code writing.
For example, we can create a loop of the subgraph when looping the whole model is
time-consuming due to matrix operation components outside of the loop.</p>
</section>
<section id="philosophy">
<h2>Philosophy<a class="headerlink" href="#philosophy" title="Permalink to this headline">#</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">mmodel</span></code> intends to be the framework that packages build upon, and we follow
some of the fundamental philosophies:</p>
<section id="separation-of-graph-model-and-model-execution">
<h3>separation of graph model and model execution<a class="headerlink" href="#separation-of-graph-model-and-model-execution" title="Permalink to this headline">#</a></h3>
<p>The graph model and execution steps are separated. This design allows for future
modification and optimization of model execution albeit new software implementation
(parallel) or hardware (GPU, cloud computing) without needing to modify existing
graph.</p>
</section>
<section id="lightweight">
<h3>lightweight<a class="headerlink" href="#lightweight" title="Permalink to this headline">#</a></h3>
<p>The graph node can be a simple function without any added syntax. All modifiers
are closure decorators with limited overhead to the node or system. The
lightweight nature allows for better performance and easier modification of
the model components.</p>
</section>
<section id="prioritize-execution-performance">
<h3>prioritize execution performance<a class="headerlink" href="#prioritize-execution-performance" title="Permalink to this headline">#</a></h3>
<p>The most time-consuming components, for example, creating a new model,
and determining execution steps, occurs at import time or model initialization
time. Therefore, the overhead spent on the runtime is as small as possible.</p>
</section>
<section id="explicit">
<h3>explicit<a class="headerlink" href="#explicit" title="Permalink to this headline">#</a></h3>
<p>Since <code class="docutils literal notranslate"><span class="pre">mmodel</span></code> is intended as a framework for scientific packages, we want to
make the API and model building process as explicit as possible. See <code class="docutils literal notranslate"><span class="pre">mrfmsim</span></code>
for some of our high-level design choices.</p>
</section>
</section>
<section id="references">
<h2>References<a class="headerlink" href="#references" title="Permalink to this headline">#</a></h2>
<dl class="footnote brackets">
<dt class="label" id="id3"><span class="brackets"><a class="fn-backref" href="#id1">1</a></span></dt>
<dd><p>Perkel, J. M. How to Fix Your Scientific Coding Errors. Nature 2022,
602 (7895), 172–173. <a class="reference external" href="https://doi.org/10.1038/d41586-022-00217-0">https://doi.org/10.1038/d41586-022-00217-0</a>.</p>
</dd>
<dt class="label" id="id4"><span class="brackets"><a class="fn-backref" href="#id2">2</a></span></dt>
<dd><p>Strand, J. F. Error Tight: Exercises for Lab Groups to Prevent Research
Mistakes; preprint; PsyArXiv, 2021. <a class="reference external" href="https://doi.org/10.31234/osf.io/rsn5y">https://doi.org/10.31234/osf.io/rsn5y</a>.</p>
</dd>
</dl>
</section>
</section>


              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="index.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">MModel</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="changelog.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Changelog</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By Peter Sun<br/>
  
      &copy; Copyright 2022, Peter Sun.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>