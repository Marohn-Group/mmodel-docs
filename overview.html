

<!DOCTYPE html>


<html lang="en" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>Overview &#8212; MModel 0.5.2 documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=12da95d707ffb74b382d" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=12da95d707ffb74b382d" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=12da95d707ffb74b382d" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=12da95d707ffb74b382d" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" href="_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=12da95d707ffb74b382d" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=12da95d707ffb74b382d" />

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'overview';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Changelog" href="changelog.html" />
    <link rel="prev" title="MModel" href="index.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search..."
         aria-label="Search..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
  

<a class="navbar-brand logo" href="index.html">
  
  
  
  
  
    <p class="title logo__title">MModel 0.5.2 documentation</p>
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <ul class="current nav bd-sidenav">
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Changelog</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Tutorial</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="tutorial_graph.html">Creating a model graph</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial_model.html">Building a model</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial_modifier.html">Modifying model and node</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial_subgraph.html">Modifying a subgraph</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">API Guideline</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="api_handler.html">Handler API</a></li>
<li class="toctree-l1"><a class="reference internal" href="api_modifier.html">Modifier API</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Reference</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="ref_graph.html">Graph</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref_model.html">Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref_handler.html">Handler</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref_modifier.html">Modifier</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref_filter.html">Filter</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref_parser.html">Filter</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/overview.rst" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.rst</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>


<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script>

<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Overview</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#motivation">Motivation</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#how-does-it-work">How does it work?</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#philosophy">Philosophy</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#separation-of-graph-model-and-model-execution">separation of graph model and model execution</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#lightweight">lightweight</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#prioritize-execution-performance">prioritize execution performance</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#explicit">explicit</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#references">References</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section id="overview">
<h1>Overview<a class="headerlink" href="#overview" title="Permalink to this heading">#</a></h1>
<section id="motivation">
<h2>Motivation<a class="headerlink" href="#motivation" title="Permalink to this heading">#</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">mmodel</span></code> package is developed as a backend for our simulation package
<code class="docutils literal notranslate"><span class="pre">mrfmsim</span></code> (publishing soon) to tackle some frustrations of the scientific
coding process <a class="footnote-reference brackets" href="#id3" id="id1" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a>, <a class="footnote-reference brackets" href="#id4" id="id2" role="doc-noteref"><span class="fn-bracket">[</span>2<span class="fn-bracket">]</span></a>. Often, public or in-house scientific packages do
not address the varying programming levels among graduate students in a
scientific research group. Due to the nature of graduate students wanting to
focus on the effort of the result, the code written is often lacked quality
and not well tested (unit test or code review). The code review requires a
review of the simulation’s scientific model and the code written. Both are
difficult to do, especially for experiments with complex components. For our
complex systems, we often have shared parts, yet they follow non-sequential
execution steps. Because of its complexity, students often simulate experiments
without knowing the underlying experimental model or structure.</p>
<p><code class="docutils literal notranslate"><span class="pre">mmodel</span></code> attempts to help with some of the issues outlined above. <code class="docutils literal notranslate"><span class="pre">mmodel</span></code>
focuses on building a modular framework, easy-to-test individual components,
and providing visualization for complex models. Furthermore, the modular
systems also help with code distribution, as well as introduce differently
levels of entrances for the package:</p>
<blockquote>
<div><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>action</p></th>
<th class="head"><p>programming level</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>run model</p></td>
<td><p>beginner</p></td>
</tr>
<tr class="row-odd"><td><p>inspect model</p></td>
<td><p>beginner</p></td>
</tr>
<tr class="row-even"><td><p>create a new model</p></td>
<td><p>beginner</p></td>
</tr>
<tr class="row-odd"><td><p>modify model</p></td>
<td><p>intermediate</p></td>
</tr>
<tr class="row-even"><td><p>create components</p></td>
<td><p>intermediate</p></td>
</tr>
<tr class="row-odd"><td><p>new execution method</p></td>
<td><p>advanced</p></td>
</tr>
<tr class="row-even"><td><p>code maintenance</p></td>
<td><p>advanced</p></td>
</tr>
</tbody>
</table>
</div></blockquote>
</section>
<section id="how-does-it-work">
<h2>How does it work?<a class="headerlink" href="#how-does-it-work" title="Permalink to this heading">#</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">mmodel</span></code> uses a two-stage system to construct a python callable
that behaves like a python function - <strong>graph and model</strong>.</p>
<p>The <strong>graph</strong> is a directed acyclic graph (DAG) to represent a non-linear
the procedure, with nodes presenting individual functions and edges representing
parameter flow. The graph is created with a custom <code class="docutils literal notranslate"><span class="pre">networkx</span></code> graph class
while retaining all of its graph algorithms and methods. The class <code class="docutils literal notranslate"><span class="pre">ModelGraph</span></code>
handles the graph construction.</p>
<p>The <strong>model</strong> can be created given the graph, the graph handler, and the modifiers.
The model is a python executable object that behaves like a python function.
Specifically, the handler creates the workflow that executes each node, and modifiers
are python wrappers (closure/decorators) that can modify the nodes and the graph.
The class <code class="docutils literal notranslate"><span class="pre">Model</span></code> handles the model construction. Constructing a model using a
directed graph allows for clear execution steps, error messages, and easy testing.
Notably, we can modify the subgraph easily without changing the model,
which is efficient in terms of performance and code writing.
For example, we can create a loop of the subgraph when looping the whole model is
time-consuming due to matrix operation components outside of the loop.</p>
</section>
<section id="philosophy">
<h2>Philosophy<a class="headerlink" href="#philosophy" title="Permalink to this heading">#</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">mmodel</span></code> intends to be the framework that packages build upon, and we follow
some of the fundamental philosophies:</p>
<section id="separation-of-graph-model-and-model-execution">
<h3>separation of graph model and model execution<a class="headerlink" href="#separation-of-graph-model-and-model-execution" title="Permalink to this heading">#</a></h3>
<p>The graph model and execution steps are separated. This design allows for future
modification and optimization of model execution albeit new software implementation
(parallel) or hardware (GPU, cloud computing) without needing to modify existing
graph.</p>
</section>
<section id="lightweight">
<h3>lightweight<a class="headerlink" href="#lightweight" title="Permalink to this heading">#</a></h3>
<p>The graph node can be a simple function without any added syntax. All modifiers
are closure decorators with limited overhead to the node or system. The
lightweight nature allows for better performance and easier modification of
the model components.</p>
</section>
<section id="prioritize-execution-performance">
<h3>prioritize execution performance<a class="headerlink" href="#prioritize-execution-performance" title="Permalink to this heading">#</a></h3>
<p>The most time-consuming components, for example, creating a new model
and determining execution steps, occur at import time or model initialization
time. Therefore, the overhead spent on the runtime is as small as possible.</p>
</section>
<section id="explicit">
<h3>explicit<a class="headerlink" href="#explicit" title="Permalink to this heading">#</a></h3>
<p>Since <code class="docutils literal notranslate"><span class="pre">mmodel</span></code> is intended as a framework for scientific packages, we want to
make the API and model-building process as explicit as possible. See <code class="docutils literal notranslate"><span class="pre">mrfmsim</span></code>
for some of our high-level design choices.</p>
</section>
</section>
<section id="references">
<h2>References<a class="headerlink" href="#references" title="Permalink to this heading">#</a></h2>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="id3" role="note">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id1">1</a><span class="fn-bracket">]</span></span>
<p>Perkel, J. M. How to Fix Your Scientific Coding Errors. Nature 2022,
602 (7895), 172–173. <a class="reference external" href="https://doi.org/10.1038/d41586-022-00217-0">https://doi.org/10.1038/d41586-022-00217-0</a>.</p>
</aside>
<aside class="footnote brackets" id="id4" role="note">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id2">2</a><span class="fn-bracket">]</span></span>
<p>Strand, J. F. Error Tight: Exercises for Lab Groups to Prevent Research
Mistakes; preprint; PsyArXiv, 2021. <a class="reference external" href="https://doi.org/10.31234/osf.io/rsn5y">https://doi.org/10.31234/osf.io/rsn5y</a>.</p>
</aside>
</aside>
</section>
</section>


                </article>
              

              
              
                <footer class="bd-footer-article">
                  <!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="index.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">MModel</p>
      </div>
    </a>
    <a class="right-next"
       href="changelog.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Changelog</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#motivation">Motivation</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#how-does-it-work">How does it work?</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#philosophy">Philosophy</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#separation-of-graph-model-and-model-execution">separation of graph model and model execution</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#lightweight">lightweight</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#prioritize-execution-performance">prioritize execution performance</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#explicit">explicit</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#references">References</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            <div class="bd-footer-content__inner">
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Peter Sun
</p>

  </div>
  
  <div class="footer-item">
    
  <p class="copyright">
    
      © Copyright 2023, Peter Sun.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div></div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=12da95d707ffb74b382d"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=12da95d707ffb74b382d"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>